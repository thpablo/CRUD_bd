{% extends 'base.html' %}

{% block title %}Pessoa Details{% endblock %}

{% block content %}
  <h1>Pessoa Details</h1>

  <form action="{{ url_for('update_pessoa', cpf=pessoa.CPF) }}" method="post">
    <label for="nome">Nome:</label>
    <input type="text" id="nome" name="nome" value="{{ pessoa.Nome }}" required>
    <button type="submit">Update</button>
  </form>

  <hr>

  <h2>Telefones</h2>
  <ul>
    {% for telefone in pessoa.telefones %}
      <li>
        {{ telefone.Telefone }}
        <a href="{{ url_for('delete_telefone', cpf=pessoa.CPF, telefone=telefone.Telefone) }}">Delete</a>
      </li>
    {% endfor %}
  </ul>

  <form action="{{ url_for('add_telefone', cpf=pessoa.CPF) }}" method="post">
    <label for="telefone">Telefone:</label>
    <input type="text" id="telefone" name="telefone" required>
    <button type="submit">Add Telefone</button>
  </form>

  <hr>

  <h2>Emails</h2>
  <ul>
    {% for email in pessoa.emails %}
      <li>
        {{ email.Email }}
        <a href="{{ url_for('delete_email', cpf=pessoa.CPF, email=email.Email) }}">Delete</a>
      </li>
    {% endfor %}
  </ul>

  <form action="{{ url_for('add_email', cpf=pessoa.CPF) }}" method="post">
    <label for="email">Email:</label>
    <input type="text" id="email" name="email" required>
    <button type="submit">Add Email</button>
  </form>

  <hr>

  <h2>Roles</h2>
  <ul>
    {% if pessoa.aluno %}
      <li>Aluno
        {% if pessoa.aluno.pcd %} (PCD) {% endif %}
        {% if pessoa.aluno.membro_da_equipe %} (Membro da Equipe) {% endif %}
      </li>
    {% endif %}
    {% if pessoa.servidor %}
      <li>Servidor
        {% if pessoa.servidor.docente %} (Docente {% if pessoa.servidor.docente.pcd %}PCD{% endif %}) {% endif %}
        {% if pessoa.servidor.tecnico_administrativo %} (TÃ©cnico Administrativo {% if pessoa.servidor.tecnico_administrativo.pcd %}PCD{% endif %}{% if pessoa.servidor.tecnico_administrativo.membro_da_equipe %}, Membro da Equipe{% endif %}) {% endif %}
        {% if pessoa.servidor.terceirizado %} (Terceirizado, Membro da Equipe) {% endif %}
      </li>
    {% endif %}
  </ul>
{% endblock %}
